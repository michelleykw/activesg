{"ast":null,"code":"var _jsxFileName = \"/Users/kagurayuuki/Documents/AY202122/Sem2/CS4249 HCI/activesg/frontend/src/components/SearchItemNew.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { makeStyles, useTheme } from '@mui/styles';\nimport { Chip, Grid, Typography } from '@mui/material';\nimport data from '../pages/data/data.json';\nimport { sportsList } from '../resources/constants.jsx';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  row: {\n    paddingBottom: theme.spacing(1.5),\n    paddingTop: theme.spacing(1.5),\n    borderBottom: `1px solid ${theme.palette.background.midGrey}`\n  },\n  chip: {\n    fontWeight: `${600} !important`\n  },\n  pbHalf: {\n    paddingBottom: theme.spacing(0.5)\n  },\n  availability: {\n    textAlign: 'right'\n  },\n  px1: {\n    paddingLeft: theme.spacing(1),\n    paddingRight: theme.spacing(1)\n  },\n  icon: {\n    color: `${theme.palette.background.midGrey} !important`,\n    padding: `0 !important`\n  }\n}));\n\nfunction SearchItemNew(_ref) {\n  _s();\n\n  let {\n    name,\n    onClick\n  } = _ref;\n  // sport, area, availability,\n  const classes = useStyles();\n  const [availability, setAvailability] = useState(0);\n  const [area, setArea] = useState();\n  const [sport, setSport] = useState('Others');\n  const [isSport, setIsSport] = useState(false);\n  useEffect(() => {\n    for (let i = 0; i < data.length; i++) {\n      var _data$i;\n\n      setIsSport(sportsList.includes(name));\n\n      if (data[i].name !== name) {\n        continue;\n      }\n\n      const avail = (_data$i = data[i]) === null || _data$i === void 0 ? void 0 : _data$i.availability;\n      let sum = avail === null || avail === void 0 ? void 0 : avail.map(item => Object.values(item['time']));\n      sum = sum.map(arr => arr.map(tuple => Object.values(tuple)[0]));\n      sum = sum.map(lst => lst.reduce((x, y) => parseInt(x) + parseInt(y)));\n      sum = sum.reduce((x, y) => x + y);\n      setAvailability(sum);\n      setArea(data[i].area);\n      setSport(data[i].sport);\n    }\n  }, [name]);\n\n  if (isSport) {\n    return /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      onClick: onClick,\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      className: `${classes.row}`,\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(Chip, {\n          label: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            className: classes.chip,\n            children: name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 29\n          }, this),\n          color: \"greyChip\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(Grid, {\n    container: true,\n    onClick: onClick,\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    className: `${classes.row}`,\n    children: [/*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      xs: 6,\n      className: classes.pbHalf,\n      children: /*#__PURE__*/_jsxDEV(Chip, {\n        label: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          className: classes.chip,\n          children: sport\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 25\n        }, this),\n        color: \"greyChip\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      xs: 6,\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        color: availability > 0 ? \"secondary\" : 'primary',\n        variant: \"body2\",\n        className: classes.availability,\n        children: [availability, \" slot\", availability > 1 ? 's' : '', \" available\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      xs: 12,\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        color: \"textSecondary\",\n        variant: 'body1',\n        children: [area && `${area} · `, name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 9\n  }, this);\n}\n\n_s(SearchItemNew, \"muRLhJgBWhllGznTAp0XSsl9cOI=\", false, function () {\n  return [useStyles];\n});\n\n_c = SearchItemNew;\nexport default SearchItemNew;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchItemNew\");","map":{"version":3,"sources":["/Users/kagurayuuki/Documents/AY202122/Sem2/CS4249 HCI/activesg/frontend/src/components/SearchItemNew.jsx"],"names":["React","useEffect","useState","makeStyles","useTheme","Chip","Grid","Typography","data","sportsList","useStyles","theme","row","paddingBottom","spacing","paddingTop","borderBottom","palette","background","midGrey","chip","fontWeight","pbHalf","availability","textAlign","px1","paddingLeft","paddingRight","icon","color","padding","SearchItemNew","name","onClick","classes","setAvailability","area","setArea","sport","setSport","isSport","setIsSport","i","length","includes","avail","sum","map","item","Object","values","arr","tuple","lst","reduce","x","y","parseInt"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { makeStyles, useTheme } from '@mui/styles';\nimport { Chip, Grid, Typography } from '@mui/material';\nimport data from '../pages/data/data.json';\nimport { sportsList } from '../resources/constants.jsx';\n\nconst useStyles = makeStyles(theme => ({\n    row: {\n        paddingBottom:  theme.spacing(1.5),\n        paddingTop:  theme.spacing(1.5),\n        borderBottom: `1px solid ${theme.palette.background.midGrey}`\n    },\n    chip: {\n        fontWeight: `${600} !important`,\n    },\n    pbHalf: {\n        paddingBottom: theme.spacing(0.5)\n    },\n    availability: {\n        textAlign: 'right'\n    },\n    px1: {\n        paddingLeft: theme.spacing(1),\n        paddingRight: theme.spacing(1)\n    },\n    icon: {\n        color: `${theme.palette.background.midGrey} !important`,\n        padding: `0 !important`\n    },\n}));\n\nfunction SearchItemNew({ name, onClick}) {\n    // sport, area, availability,\n    const classes = useStyles();\n    const [availability, setAvailability] = useState(0);\n    const [area, setArea] = useState();\n    const [sport, setSport] = useState('Others');\n    const [isSport, setIsSport] = useState(false);\n\n    useEffect(() => {\n        for (let i = 0; i < data.length; i++) {\n            setIsSport(sportsList.includes(name));\n\n            if (data[i].name !== name) {\n                continue;\n            }\n            const avail = data[i]?.availability;\n            let sum = avail?.map(item => Object.values(item['time']));\n            sum = sum.map(arr => arr.map(tuple => Object.values(tuple)[0]));\n            sum = sum.map(lst => lst.reduce((x, y) => parseInt(x) + parseInt(y)));\n            sum = sum.reduce((x, y) => x + y);\n            setAvailability(sum);\n            setArea(data[i].area);\n            setSport(data[i].sport);\n        }\n    }, [name]);\n\n    if (isSport) {\n        return (\n            <Grid container onClick={onClick} justifyContent=\"space-between\" alignItems=\"center\" className={`${classes.row}`}>\n                <Grid item xs={12}>\n                    <Chip\n                        label={\n                            <Typography variant='body2' className={classes.chip}>{name}</Typography>\n                        } \n                        color='greyChip'\n                    />\n                </Grid>\n            </Grid>\n        );\n    }\n    \n    return (\n        <Grid container onClick={onClick} justifyContent=\"space-between\" alignItems=\"center\" className={`${classes.row}`}>\n            <Grid item xs={6} className={classes.pbHalf}>\n                <Chip\n                    label={\n                        <Typography variant='body2' className={classes.chip}>{sport}</Typography>\n                    } \n                    color='greyChip'\n                />\n            </Grid>\n            <Grid item xs={6}>\n                <Typography color={availability > 0 ? \"secondary\" : 'primary'} variant='body2' className={classes.availability}>\n                    {availability} slot{availability > 1 ? 's' : ''} available\n                </Typography>\n            </Grid>\n            <Grid item xs={12}>\n                <Typography color=\"textSecondary\" variant={'body1'}>\n                    {area && `${area} · `}{name}\n                </Typography>\n            </Grid>\n        </Grid>\n    );\n}\n\nexport default SearchItemNew;\n"]},"metadata":{},"sourceType":"module"}