{"ast":null,"code":"import _slicedToArray from\"/Users/kagurayuuki/Documents/AY202122/Sem2/CS4249 HCI/activesg/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useRef,useState}from'react';import{makeStyles}from'@mui/styles';import Grid from'@mui/material/Grid';import Dialog from'@mui/material/Dialog';import AppButton from'../components/AppButton';import CategoryOptionsDialog from'../components/CategoryOptionsDialog';import RecentSearch from'../components/RecentSearch';import SearchBar from'../components/SearchBar';import SearchList from'../components/SearchList';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{mr1:{marginRight:\"\".concat(theme.spacing(1),\" !important\")},mt1:{marginTop:\"\".concat(theme.spacing(1),\" !important\")},mt2:{marginTop:\"\".concat(theme.spacing(2),\" !important\")},mx2:{marginLeft:\"\".concat(theme.spacing(2),\" !important\"),marginRight:\"\".concat(theme.spacing(2),\" !important\")},px2:{paddingLeft:'2rem !important',paddingRight:'2rem !important'},searchContainer:{maxHeight:'calc(100vh - 9rem) !important'}};});// Perhaps can change this to a dialog (fullscreen) instead\nfunction SearchPage(_ref){var openPage=_ref.openPage,handleClosePage=_ref.handleClosePage,isOldVersion=_ref.isOldVersion,recentSearchList=_ref.recentSearchList,startSearch=_ref.startSearch,resetSearchInput=_ref.resetSearchInput,cancelSearch=_ref.cancelSearch,doSearch=_ref.doSearch,removeRecentSearch=_ref.removeRecentSearch,hasSearchValues=_ref.hasSearchValues,updateHasSearchValues=_ref.updateHasSearchValues,searchOptions=_ref.searchOptions,updateSearchOptions=_ref.updateSearchOptions;var classes=useStyles();var searchInput=useRef(null);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),openCategoryOptions=_useState2[0],setOpenCategoryOptions=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),searchCategory=_useState4[0],setSearchCategory=_useState4[1];useEffect(function(){},[recentSearchList,hasSearchValues,searchOptions,openCategoryOptions,searchCategory]);var doRecentSearch=function doRecentSearch(item){doSearch(item);searchInput.current.value=item;};var openCategoryOptionsDialog=function openCategoryOptionsDialog(category){setOpenCategoryOptions(true);setSearchCategory(category);};var closeCategoryOptionsDialog=function closeCategoryOptionsDialog(){setOpenCategoryOptions(false);setSearchCategory(null);};var renderSearchBar=function renderSearchBar(){return/*#__PURE__*/_jsx(SearchBar,{isSearching:true,startSearch:startSearch,resetSearchInput:resetSearchInput,cancelSearch:cancelSearch,doSearch:doSearch,searchInput:searchInput,hasSearchValues:hasSearchValues,updateHasSearchValues:updateHasSearchValues,updateSearchOptions:updateSearchOptions});};var renderCategoryButtons=function renderCategoryButtons(){return/*#__PURE__*/_jsxs(Grid,{container:true,item:true,className:\"\".concat(classes.mt1,\" \").concat(classes.mx2),children:[/*#__PURE__*/_jsx(AppButton,{content:\"Sports\",className:\"\".concat(classes.px2,\" \").concat(classes.mr1),onClick:function onClick(){return openCategoryOptionsDialog('Sport');}}),/*#__PURE__*/_jsx(AppButton,{content:\"Venue\",onClick:function onClick(){return openCategoryOptionsDialog('Venue');},className:\"\".concat(classes.px2,\" \").concat(classes.mr1)})]});};var renderRecentSearch=function renderRecentSearch(){return/*#__PURE__*/_jsx(Grid,{container:true,item:true,className:classes.mt1,children:/*#__PURE__*/_jsx(RecentSearch,{recentSearchList:recentSearchList,removeRecentSearch:removeRecentSearch,doRecentSearch:doRecentSearch})});};var renderSearchList=function renderSearchList(){return/*#__PURE__*/_jsx(Grid,{container:true,item:true,className:classes.searchContainer,children:/*#__PURE__*/_jsx(SearchList,{list:searchOptions,search:doRecentSearch})});};var renderCategoryDialog=function renderCategoryDialog(){return/*#__PURE__*/_jsx(CategoryOptionsDialog,{doSearch:doRecentSearch,category:searchCategory,open:openCategoryOptions,fullScreen:true,handleClose:closeCategoryOptionsDialog});};return/*#__PURE__*/_jsx(Dialog,{fullScreen:true,open:openPage,onClose:handleClosePage,children:/*#__PURE__*/_jsxs(Grid,{container:true,alignItems:\"flex-start\",justifyContent:\"flex-start\",className:classes.mt2,children:[isOldVersion&&renderSearchBar(),!hasSearchValues&&isOldVersion&&renderCategoryButtons(),!hasSearchValues&&recentSearchList&&recentSearchList.length>0&&renderRecentSearch(),hasSearchValues&&renderSearchList(),renderCategoryDialog()]})});}export default SearchPage;","map":{"version":3,"sources":["/Users/kagurayuuki/Documents/AY202122/Sem2/CS4249 HCI/activesg/frontend/src/pages/SearchPage.jsx"],"names":["React","useEffect","useRef","useState","makeStyles","Grid","Dialog","AppButton","CategoryOptionsDialog","RecentSearch","SearchBar","SearchList","useStyles","theme","mr1","marginRight","spacing","mt1","marginTop","mt2","mx2","marginLeft","px2","paddingLeft","paddingRight","searchContainer","maxHeight","SearchPage","openPage","handleClosePage","isOldVersion","recentSearchList","startSearch","resetSearchInput","cancelSearch","doSearch","removeRecentSearch","hasSearchValues","updateHasSearchValues","searchOptions","updateSearchOptions","classes","searchInput","openCategoryOptions","setOpenCategoryOptions","searchCategory","setSearchCategory","doRecentSearch","item","current","value","openCategoryOptionsDialog","category","closeCategoryOptionsDialog","renderSearchBar","renderCategoryButtons","renderRecentSearch","renderSearchList","renderCategoryDialog","length"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport { makeStyles } from '@mui/styles';\nimport Grid from '@mui/material/Grid';\nimport Dialog from '@mui/material/Dialog';\nimport AppButton from '../components/AppButton';\nimport CategoryOptionsDialog from '../components/CategoryOptionsDialog';\nimport RecentSearch from '../components/RecentSearch';\nimport SearchBar from '../components/SearchBar';\nimport SearchList from '../components/SearchList';\n\nconst useStyles = makeStyles(theme => ({\n    mr1: {\n        marginRight: `${theme.spacing(1)} !important`\n    },\n    mt1: {\n        marginTop: `${theme.spacing(1)} !important`\n    },\n    mt2: {\n        marginTop: `${theme.spacing(2)} !important`\n    },\n    mx2: {\n        marginLeft: `${theme.spacing(2)} !important`,\n        marginRight: `${theme.spacing(2)} !important`\n    },\n    px2: {\n        paddingLeft: '2rem !important',\n        paddingRight: '2rem !important'\n    },\n    searchContainer: {\n        maxHeight: 'calc(100vh - 9rem) !important'\n    }\n}));\n\n// Perhaps can change this to a dialog (fullscreen) instead\n\nfunction SearchPage({ openPage, handleClosePage, isOldVersion, recentSearchList, startSearch, resetSearchInput, cancelSearch, doSearch, removeRecentSearch, hasSearchValues, updateHasSearchValues, searchOptions, updateSearchOptions }) {\n    const classes = useStyles();\n    const searchInput = useRef(null);\n\n    const [openCategoryOptions, setOpenCategoryOptions] = useState(false);\n    const [searchCategory, setSearchCategory] = useState();\n\n    useEffect(() => {\n    }, [recentSearchList, hasSearchValues, searchOptions, openCategoryOptions, searchCategory]);\n\n    const doRecentSearch = item => {\n        doSearch(item);\n        searchInput.current.value = item;\n    };\n\n    const openCategoryOptionsDialog = category => {\n        setOpenCategoryOptions(true);\n        setSearchCategory(category);\n    };\n\n    const closeCategoryOptionsDialog = () => {\n        setOpenCategoryOptions(false);\n        setSearchCategory(null);\n    };\n\n    const renderSearchBar = () => {\n        return (\n            <SearchBar \n                isSearching\n                startSearch={startSearch} \n                resetSearchInput={resetSearchInput}\n                cancelSearch={cancelSearch}\n                doSearch={doSearch}\n                searchInput={searchInput}\n                hasSearchValues={hasSearchValues}\n                updateHasSearchValues={updateHasSearchValues}\n                updateSearchOptions={updateSearchOptions}\n            />\n        );\n    };\n    \n    const renderCategoryButtons = () => {\n        return (\n            <Grid container item className={`${classes.mt1} ${classes.mx2}`}>\n                <AppButton \n                    content=\"Sports\" \n                    className={`${classes.px2} ${classes.mr1}`} \n                    onClick={() => openCategoryOptionsDialog('Sport')}\n                />\n                <AppButton \n                    content=\"Venue\" \n                    onClick={() => openCategoryOptionsDialog('Venue')}\n                    className={`${classes.px2} ${classes.mr1}`} \n                />\n            </Grid>\n        );\n    };\n\n    const renderRecentSearch = () => {\n        return (\n            <Grid container item className={classes.mt1}>\n                <RecentSearch \n                    recentSearchList={recentSearchList} \n                    removeRecentSearch={removeRecentSearch}\n                    doRecentSearch={doRecentSearch}\n                />\n            </Grid>\n        );\n    };\n\n    const renderSearchList = () => {\n        return (\n            <Grid container item className={classes.searchContainer}>\n                <SearchList list={searchOptions} search={doRecentSearch} /> \n            </Grid>\n        );\n    };\n\n    const renderCategoryDialog = () => {\n        return (\n            <CategoryOptionsDialog \n                doSearch={doRecentSearch} \n                category={searchCategory} \n                open={openCategoryOptions} \n                fullScreen \n                handleClose={closeCategoryOptionsDialog} \n            />\n        );\n    };\n\n    return (\n        <Dialog\n            fullScreen\n            open={openPage}\n            onClose={handleClosePage}\n        >\n            <Grid container alignItems=\"flex-start\" justifyContent=\"flex-start\" className={classes.mt2}>\n                {isOldVersion && renderSearchBar()}\n                {!hasSearchValues && isOldVersion && renderCategoryButtons()}\n                {!hasSearchValues && recentSearchList && recentSearchList.length > 0 && renderRecentSearch()}\n                {hasSearchValues && renderSearchList()}\n                {renderCategoryDialog()}\n            </Grid>\n        </Dialog>\n    );\n}\n\nexport default SearchPage;"]},"metadata":{},"sourceType":"module"}